---
title: "Managing replicas"
---

## Create a faraway replica

You can create faraway replicas in different regions in your cloud. There is no limit on the number of faraway replicas each cluster can have. However, the added resources and data transfers can increase your cloud costs.

1. Go to the [Clusters](https://portal.biganimal.com/clusters) page. A list of previously created clusters appears.

1. Select the **Create Replica** icon next to a cluster to create its faraway replica. The Create Faraway Replica page appears.   

1. You can't edit the **Cloud Provider** field. The cloud provider is inherited from the parent cluster. Move to the Cluster Settings tab.

1. On the Cluster Settings tab, enter a name for your replica in the **Cluster Name** field.

1. Enter a password for your replica in the **Password** field. 

1. Skip the **Database Type** section. The database information is inherited from the parent cluster and you can't edit it.

1. In the **Region** section, select the region where you want to deploy your replica.

 You can select a region for deploying your replica even if it is not yet *Active*. Your replica creation request is added to a queue, and the replica is created after you activate the region. See [Activating regions](/biganimal/latest/getting_started/activating_regions) for more information.
 
1.  The fields in the **Instance Type** section are populated with values inherited from the parent cluster. You can edit these fields. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on instance type settings.

1.  The fields in the **Storage** section are populated with values inherited from the parent cluster. You can edit these fields. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on the storage settings.
 
1.  In the **Networking** section, specify whether to use private or public networking. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on the Networking settings.

1. On the DB Configuration tab, to avoid replication issues when running a replica (standby server), keep the inherited value or increase it for the following database configuration parameters. Otherwise, queries are not allowed in the replica. You can't edit any of the other parameters for replicas.
   - max_connections

   - max_locks_per_transaction
   - max_prepared_transactions
   - max_wal_senders
   - max_worker_processes

1. On the Additional Settings tab, in the **Backups** section, change the default replica backup retention period of 30 days using the **Retention Time** controls. You can configure the retention period as follows:
   - 1 - 180 days

   - 1 - 25 weeks
   - 1 - 6 months

1. Enable Identity and Access Management (IAM) Authentication to turn on the ability to log in to Postgres using your AWS IAM credentials. See [Authentication](/biganimal/latest/getting_started/creating_a_cluster/#authentication.

1. Select **Create Replica**. 


## Promote a faraway replica

You can promote a faraway replica to a full-fledged cluster, which makes it capable of accepting writes. The new cluster created is different from the parent cluster, and it doesn't replace the parent cluster.

1. Go to the [Clusters](https://portal.biganimal.com/clusters) page. A list of previously created clusters appears.

1. Select the cluster with the replica you want to promote. In the **Overview** tab, you can see the cluster's replicas under **Faraway Replicas**.

1. Select the **Promote Faraway Replica** icon next to the replica you want to promote. The Promote Faraway Replica page appears. 

1. The cluster settings are populated with values inherited from the parent cluster. You can edit the cluster settings while creating your cluster. 

   !!! NoteNotes
       - You can promote a faraway replica to a single node or high availability cluster but not to an extreme high availability cluster. 
       - While promoting a replica to a cluster, you can't modify the **Provider**, **Database Type**, and **Region** fields or enable read-only workloads.

1. Select **Promote Replica**. 



## Modify a faraway replica

1. Sign in to the [BigAnimal portal](https://portal.biganimal.com/).

1. Go to the [Clusters](https://portal.biganimal.com/clusters) page. A list of previously created clusters appears.

1. Select the cluster with the replica you want to modify. In the **Overview** tab, you can see the cluster's replicas under **Faraway Replicas**.

1. Select the **Edit Cluster** icon next to the replica you want to modify. The Edit Faraway Replica page appears. 

1. In the **Cluster Settings** tab, in the **Cluster Name** field, enter the name for your replica.

1. In the **Password** field, enter a password for your replica. 
 
   In the **Database Type** section, you can see the Postgres type and Postgres version inherited from the parent cluster. You can't edit the Postgres type and Postgres version. 

1. In the **Region** section, select the region where you want to deploy your replica.

   You can select a region for deploying your replica even if it is not yet *Active*. Your cluster creation request is added to a queue, and the replica is created after you activate the region. See [Activating regions](/biganimal/latest/getting_started/activating_regions) for more information.
 
1. The fields in the **Instance Type** section are populated with values inherited from the parent cluster. You can edit the fields in the **Instance Type** section. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on the instance type settings. 

   !!! Note
       To avoid lag during replication, ensure that your replicas' instance type is at least as large as the parent cluster's instance type.

1. The fields in the **Storage** section are populated with values inherited from the parent cluster. You can edit the fields in the **Storage** section. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on the storage settings.

   !!! Note
       To avoid lag during replication, ensure that your replicas' storage type is at least as large as the parent cluster's storage type.
 
1. In the **Networking** section, you specify whether to use private or public networking. See [Creating a cluster](/biganimal/latest/getting_started/creating_a_cluster/#cluster-settings-tab) for details on the Networking settings.

1. On the DB Configuration tab, to avoid replication issues when running a replica (standby server), set the following database configuration parameters to the same or higher value than on the parent cluster (primary server). Otherwise, queries are not allowed in the replica. 
   - max_connections

   - max_locks_per_transaction
   - max_prepared_transactions
   - max_wal_senders
   - max_worker_processes

1. Select **Save**. 

## Restore a replica backup

You can restore a replica backup to a standalone cluster. A new stand alone cluster is created and initialized with data from the replica backup.

1.  Select the cluster with the replica you want to restore on the [Clusters](https://portal.biganimal.com/clusters) page in the [BigAnimal portal](https://portal.biganimal.com). 

1.  In the **Overview** tab, you can see the cluster's replicas under **Faraway Replicas**. Select the replica.

1.  From **Quick Actions**, select **Restore Replica**.

1.  On the Restore Replica page: 
    1.  Fill in the required fields.
    1.  In the **Source** section, in the **Point in Time Restore** field, select **Now** on the calendar to restore to the last possible recovery point. Or, choose a timestamp to restore further back in time. 
    3.  Review your selections and select **Restore** to begin the restore process.  
4.  The new stand alone cluster is now available on the [Clusters](https://portal.biganimal.com/clusters) page.


## Delete a faraway replica 

1. Sign in to the [BigAnimal portal](https://portal.biganimal.com/).

1. Go to the [Clusters](https://portal.biganimal.com/clusters) page. A list of previously created clusters appears.

1. Select the cluster with the replica you want to delete. In the **Overview** tab, you can see the cluster's replicas under **Faraway Replicas**. 

1. Select the replica you want to delete. 

1. Select the **Delete** icon next to the replica. 

1. Confirm that you want to permanently delete the replica. The replica is deleted.

