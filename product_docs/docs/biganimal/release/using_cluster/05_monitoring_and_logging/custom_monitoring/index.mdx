---
title: "Custom Metrics"
---

BigAnimal has the ability to expose metrics and logs. To enable this on your cluster:

1. Step 1 with good instructions
2. Step 2 also with good instructions

## Metrics

If the custom metrics option is enabled, we will emit metrics in a prometheus format to $metrics.yourCluster:9090/metrics. There are no changes to the metrics emited

### Patterns for accessing Metrics

## logs

If the cusom logs option is enabled, we will store you logs in your cloud providers blob storage soltuion.

### Patterns for accessing logs via a cloud service provider

The general pattern for getting logs from blob storage in to the cloud providers solution is to write a custom serverless function that watches the blob storage and uploads to the desired solution.

#### AWS

You could leverage some python code to read the S3 bucket, then use the AWS APIs to upload to cloud watch.

#### Azure

You could leverage azure functions to read the azure storage object, the use API to upload the data to cloud watch.

### Patterns for access logs via a third party provider

If you use a 3rd party observability platform such as Datadog, Dynatrace, New Relic etc. a common pattern is to have a serverless function watch blob storage events, and trigger the function to send the logs to the desired platform.

Some platform providers have limitions regarding the ingestion of logs. Please make sure you read the vendor documentation carefully.

#### Datadog

AWS: https://docs.datadoghq.com/logs/guide/send-aws-services-logs-with-the-datadog-lambda-function/?tab=awsconsole#manually-set-up-triggers
Azure: https://docs.datadoghq.com/integrations/azure/?tab=blobstorage#create-a-new-azure-blob-storage-function

#### Dynatrace

AWS: https://github.com/dynatrace-oss/dynatrace-aws-s3-log-forwarder

Azure:

Warning: At the time of writing, the Dynatrace integration will only work if you can stream the logs from Azure Storage to Azure event hub

https://github.com/dynatrace-oss/dynatrace-azure-log-forwarder

#### New Relic

AWS: https://docs.newrelic.com/docs/logs/forward-logs/aws-lambda-sending-logs-s3/

Azure: https://docs.newrelic.com/docs/logs/forward-logs/azure-log-forwarding/#azure-blob-storage



